---
import MainContainer from "@/components/MainContainer.astro"
import PhoneLink from "@/components/PhoneLink.astro"
import Point from "@/components/Point.astro"
import PointBlock from "@/components/PointBlock.astro"
import PrimaryButton from "@/components/PrimaryButton.astro"
import { BASIC_DATA } from "@/consts/basic"
import { getI18N } from "@/i18n"
import CareDecorative from "@/icons/CareDecorative.astro"

export interface PointProps {
	text: string
}

const { currentLocale } = Astro
const i18n = getI18N({ currentLocale })

const firstBlock: PointProps[] = [
	{
		text: i18n.CARE.ITEMS[0],
	},
	{
		text: i18n.CARE.ITEMS[1],
	},
	{
		text: i18n.CARE.ITEMS[2],
	},
]

const secondBlock: PointProps[] = [
	{
		text: i18n.CARE.ITEMS[3],
	},
	{
		text: i18n.CARE.ITEMS[4],
	},
	{
		text: i18n.CARE.ITEMS[5],
	},
]

const blocks: Array<PointProps[]> = [firstBlock, secondBlock]
---

<section class="py-20 md:py-24 lg:pb-36 lg:pt-44">
	<MainContainer>
		<div
			class="flex flex-col items-center justify-center gap-x-[5.625rem] gap-y-11 md:gap-y-14 lg:flex-row lg:gap-y-0"
		>
			<div class="relative w-full max-w-none flex-none lg:max-w-[545px]">
				<img
					src="/img/care/care-image.webp"
					loading="lazy"
					sizes="(max-width: 479px) 100vw, (max-width: 767px) 90vw, (max-width: 991px) 77vw, 545px"
					srcset="/img/care/care-image_500.webp 500w, /img/care/care-image_800.webp 800w, /img/care/care-image.webp 1096w"
					alt={i18n.CARE.IMG_ALT}
					class="inline-block max-w-full align-middle"
				/>
				<CareDecorative
					class="absolute -right-5 -top-10 bottom-auto left-auto -z-1 inline-block w-14 max-w-full align-middle text-tertiary md:w-24"
				/>
			</div>
			<div class="-order-1 flex flex-col items-start gap-y-4 lg:order-none lg:gap-y-6">
				<h2 class="my-0 font-title text-4xl font-black -tracking-[.0625rem] md:text-6xl">
					{i18n.CARE.TITLE}
				</h2>
				<p class="text-xl font-semibold leading-8">
					{i18n.CARE.DESCRIPTION}
				</p>
				<div class="mb-7 mt-4 flex w-full flex-wrap gap-x-14 gap-y-2.5 md:gap-y-5 lg:mb-9 lg:mt-5">
					{
						blocks.map((block) => (
							<PointBlock>
								{block.map((point) => (
									<Point {...point} />
								))}
							</PointBlock>
						))
					}
				</div>
				<div
					class="flex flex-col items-center gap-x-12 md:flex-row md:justify-normal md:gap-y-10 lg:flex-col xl:flex-row xl:gap-y-0"
				>
					<PrimaryButton href="#Contact" variant="tertiary">{i18n.CARE.BUTTON_TEXT}</PrimaryButton>
					<PhoneLink text={i18n.CARE.LINK_TEXT} variant="care" phone={BASIC_DATA.phone} />
				</div>
			</div>
		</div>
	</MainContainer>
</section>
